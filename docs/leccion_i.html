<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lecci√≥n I: INTRODUCCI√ìN A LIQUIBASE</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #0056b3;
            --secondary-color: #f8f9fa;
            --accent-color: #17a2b8;
            --text-color: #333;
            --border-color: #dee2e6;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --liquibase-color: #2962ff;
        }
       
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
       
        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: #fff;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
       
        .lesson-container {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 30px;
        }
       
        .lesson-header {
            background: linear-gradient(135deg, var(--liquibase-color), #448aff);
            color: white;
            padding: 30px;
            text-align: center;
        }
       
        .lesson-title {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
        }
       
        .lesson-subtitle {
            font-size: 1.2em;
            font-weight: 300;
            opacity: 0.9;
        }
       
        .lesson-content {
            padding: 40px;
        }
       
        .learning-objectives {
            background-color: var(--secondary-color);
            border-left: 5px solid var(--liquibase-color);
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 8px 8px 0;
        }
       
        .learning-objectives h3 {
            color: var(--liquibase-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
       
        .learning-objectives ul {
            list-style-type: none;
            padding-left: 20px;
        }
       
        .learning-objectives li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }
       
        .learning-objectives li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            color: var(--success-color);
            font-weight: bold;
        }
       
        .concept-section {
            margin: 40px 0;
            padding: 25px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background: white;
        }
       
        .concept-section h3 {
            color: var(--liquibase-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
        }
       
        .analogy-container {
            background: #e3f2fd;
            border-radius: 8px;
            padding: 30px;
            margin: 30px 0;
            border-left: 5px solid var(--liquibase-color);
        }
       
        .analogy-container h4 {
            color: var(--liquibase-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
       
        .analogy-comparison {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 30px;
            margin-top: 20px;
        }
       
        .analogy-item {
            flex: 1;
            min-width: 250px;
            text-align: center;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
       
        .analogy-icon {
            font-size: 2.5em;
            color: var(--liquibase-color);
            margin-bottom: 15px;
        }
       
        .core-principle {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
            border-left: 4px solid var(--success-color);
        }
       
        .principle-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--success-color);
            color: white;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
        }
       
        .workflow-diagram {
            background: white;
            padding: 30px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            margin: 30px 0;
            text-align: center;
        }
       
        .workflow-steps {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
       
        .workflow-step {
            background: var(--secondary-color);
            padding: 20px;
            border-radius: 8px;
            min-width: 180px;
            position: relative;
            text-align: center;
        }
       
        .workflow-step:not(:last-child):after {
            content: "‚Üí";
            position: absolute;
            right: -25px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-color);
            font-size: 1.5em;
        }
       
        .step-number {
            position: absolute;
            top: -15px;
            left: -15px;
            background: var(--liquibase-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
       
        .component-detail {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
       
        .component-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }
       
        .component-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--liquibase-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
        }
       
        .code-example {
            background: #1e1e1e;
            color: #d4d4d4;
            border-radius: 6px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.5;
        }
       
        .code-keyword {
            color: #569cd6;
        }
       
        .code-string {
            color: #ce9178;
        }
       
        .key-points {
            background-color: #fff8e1;
            border-left: 5px solid var(--warning-color);
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 8px 8px 0;
        }
       
        .key-points ul {
            list-style-type: none;
            padding-left: 20px;
        }
       
        .key-points li {
            margin-bottom: 10px;
            padding-left: 25px;
            position: relative;
        }
       
        .key-points li:before {
            content: "‚òÖ";
            position: absolute;
            left: 0;
            color: var(--warning-color);
        }
       
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
       
        .benefit-card {
            background: var(--secondary-color);
            padding: 25px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease;
        }
       
        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
       
        .benefit-card h4 {
            color: var(--liquibase-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
       
        .icon {
            font-size: 1.5em;
            width: 40px;
            height: 40px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: var(--liquibase-color);
            color: white;
        }
       
        .challenge-solution {
            display: flex;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
       
        .challenge, .solution {
            flex: 1;
            min-width: 300px;
            padding: 25px;
            border-radius: 8px;
        }
       
        .challenge {
            background: #ffebee;
            border-left: 5px solid #f44336;
        }
       
        .solution {
            background: #e8f5e9;
            border-left: 5px solid #4caf50;
        }
       
        .activity {
            background-color: #e8f4fd;
            border-left: 5px solid var(--accent-color);
            padding: 25px;
            margin: 30px 0;
            border-radius: 0 8px 8px 0;
        }
       
        .activity h3 {
            color: var(--accent-color);
            margin-bottom: 15px;
        }
       
        .resources {
            background-color: var(--secondary-color);
            padding: 25px;
            border-radius: 8px;
            margin: 30px 0;
        }
       
        .resources h3 {
            color: var(--liquibase-color);
            margin-bottom: 15px;
        }
       
        .resource-item {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 5px;
            border-left: 4px solid var(--liquibase-color);
        }
       
        .navigation-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
        }
       
        .btn {
            padding: 12px 30px;
            background: var(--liquibase-color);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
            transition: background 0.3s ease;
            border: none;
            cursor: pointer;
        }
       
        .btn:hover {
            background: #0039cb;
        }
       
        .btn-secondary {
            background: var(--accent-color);
        }
       
        .btn-secondary:hover {
            background: #138496;
        }
       
        @media (max-width: 768px) {
            .workflow-step:not(:last-child):after {
                display: none;
            }
           
            .workflow-steps {
                flex-direction: column;
            }
           
            .benefits-grid {
                grid-template-columns: 1fr;
            }
           
            .lesson-title {
                font-size: 2em;
            }
           
            .lesson-content {
                padding: 20px;
            }
           
            .challenge-solution {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="lesson-container">
        <header class="lesson-header">
            <h1 class="lesson-title">INTRODUCCI√ìN A LIQUIBASE</h1>
            <p class="lesson-subtitle">El control de versiones para tus bases de datos - Fundamentos y aplicaci√≥n pr√°ctica</p>
        </header>
       
        <main class="lesson-content">
            <section class="learning-objectives">
                <h3><i class="fas fa-bullseye"></i> OBJETIVOS DE APRENDIZAJE</h3>
                <ul>
                    <li>Comprender qu√© es Liquibase y por qu√© es esencial para la gesti√≥n moderna de bases de datos</li>
                    <li>Identificar los problemas que resuelve Liquibase en entornos de desarrollo y producci√≥n</li>
                    <li>Conocer la arquitectura y componentes principales de Liquibase</li>
                    <li>Entender el flujo de trabajo completo de cambios en base de datos</li>
                    <li>Reconocer el valor estrat√©gico de implementar Liquibase en nuestra organizaci√≥n</li>
                </ul>
            </section>
           
            <div class="analogy-container">
                <h4><i class="fas fa-lightbulb"></i> LA ANALOG√çA CLAVE: GIT PARA BASES DE DATOS</h4>
                <p>As√≠ como Git revolucion√≥ el control de versiones del c√≥digo fuente, Liquibase hace lo mismo para las bases de datos. Permite versionar, rastrear y aplicar cambios de manera controlada y reproducible.</p>
               
                <div class="analogy-comparison">
                    <div class="analogy-item">
                        <div class="analogy-icon"><i class="fab fa-git-alt"></i></div>
                        <h4>Git (C√≥digo Fuente)</h4>
                        <ul style="text-align: left; margin-top: 10px;">
                            <li>Commits y branches</li>
                            <li>Historial completo</li>
                            <li>Rollback a cualquier versi√≥n</li>
                            <li>Colaboraci√≥n simult√°nea</li>
                        </ul>
                    </div>
                   
                    <div class="analogy-item">
                        <div class="analogy-icon"><i class="fas fa-exchange-alt"></i></div>
                        <h4>Liquibase (Base de Datos)</h4>
                        <ul style="text-align: left; margin-top: 10px;">
                            <li>Changesets y changelogs</li>
                            <li>Tracking de cambios DDL/DML</li>
                            <li>Rollback controlado</li>
                            <li>Despliegues consistentes</li>
                        </ul>
                    </div>
                </div>
            </div>
           
            <section class="concept-section">
                <h3>¬øQU√â ES LIQUIBASE Y POR QU√â LO NECESITAMOS?</h3>
               
                <div class="challenge-solution">
                    <div class="challenge">
                        <h4><i class="fas fa-exclamation-triangle"></i> EL PROBLEMA</h4>
                        <p><strong>Antes de Liquibase:</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Scripts SQL manuales ejecutados directamente en producci√≥n</li>
                            <li>Diferencias entre ambientes (dev/test/prod)</li>
                            <li>Sin historial de cambios aplicados</li>
                            <li>Rollbacks complejos y propensos a errores</li>
                            <li>Dependencia de "la persona que sabe"</li>
                        </ul>
                    </div>
                   
                    <div class="solution">
                        <h4><i class="fas fa-check-circle"></i> LA SOLUCI√ìN</h4>
                        <p><strong>Con Liquibase:</strong></p>
                        <ul style="margin-left: 20px; margin-top: 10px;">
                            <li>Cambios versionados en control de fuente</li>
                            <li>Consistencia garantizada entre ambientes</li>
                            <li>Historial completo y auditable</li>
                            <li>Rollback autom√°tico y controlado</li>
                            <li>Proceso estandarizado y repetible</li>
                        </ul>
                    </div>
                </div>
               
                <div class="core-principle">
                    <h4><span class="principle-icon">!</span> PRINCIPIO FUNDAMENTAL</h4>
                    <p><strong>Liquibase trata los cambios en la base de datos como c√≥digo</strong>. Cada modificaci√≥n (CREATE TABLE, ALTER, INSERT, etc.) se convierte en un artefacto versionado que sigue el mismo ciclo de vida que el c√≥digo de aplicaci√≥n.</p>
                </div>
            </section>
           
            <section class="concept-section">
                <h3>C√ìMO FUNCIONA LIQUIBASE: ARQUITECTURA B√ÅSICA</h3>
               
                <div class="workflow-diagram">
                    <h4>FLUJO DE TRABAJO FUNDAMENTAL</h4>
                    <div class="workflow-steps">
                        <div class="workflow-step">
                            <div class="step-number">1</div>
                            <h5>Desarrollo</h5>
                            <p>Crear changeset SQL</p>
                        </div>
                       
                        <div class="workflow-step">
                            <div class="step-number">2</div>
                            <h5>Versionado</h5>
                            <p>Commit a Git</p>
                        </div>
                       
                        <div class="workflow-step">
                            <div class="step-number">3</div>
                            <h5>Validaci√≥n</h5>
                            <p>Pipeline CI/CD</p>
                        </div>
                       
                        <div class="workflow-step">
                            <div class="step-number">4</div>
                            <h5>Despliegue</h5>
                            <p>Aplicar cambios</p>
                        </div>
                       
                        <div class="workflow-step">
                            <div class="step-number">5</div>
                            <h5>Tracking</h5>
                            <p>Registro en DATABASECHANGELOG</p>
                        </div>
                    </div>
                </div>
               
                <h4>COMPONENTES PRINCIPALES EXPLICADOS</h4>
               
                <div class="component-detail">
                    <div class="component-header">
                        <div class="component-icon"><i class="fas fa-file-code"></i></div>
                        <div>
                            <h4>Changelog - El Director de Orquesta</h4>
                            <p>Archivo maestro que coordina la ejecuci√≥n</p>
                        </div>
                    </div>
                    <p><strong>Funci√≥n:</strong> Define el orden de ejecuci√≥n de todos los changesets. Liquibase comienza siempre leyendo este archivo.</p>
                    <p><strong>Caracter√≠sticas:</strong> Puede ser XML, YAML, JSON o SQL. En nuestra organizaci√≥n usamos JSON por su legibilidad y compatibilidad.</p>
                   
                    <div class="code-example">
                        <span class="code-keyword">{</span><br>
                        &nbsp;&nbsp;<span class="code-string">"databaseChangeLog"</span>: [<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">{</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-string">"include"</span>: <span class="code-keyword">{</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-string">"file"</span>: <span class="code-string">"scripts/tables/create/users.sql"</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">}</span><br>
                        &nbsp;&nbsp;&nbsp;&nbsp;<span class="code-keyword">}</span><br>
                        &nbsp;&nbsp;]<br>
                        <span class="code-keyword">}</span>
                    </div>
                </div>
               
                <div class="component-detail">
                    <div class="component-header">
                        <div class="component-icon"><i class="fas fa-cubes"></i></div>
                        <div>
                            <h4>Changeset - La Unidad At√≥mica</h4>
                            <p>Cada cambio individual en la base de datos</p>
                        </div>
                    </div>
                    <p><strong>Funci√≥n:</strong> Representa una modificaci√≥n espec√≠fica (crear tabla, agregar columna, insertar datos, etc.).</p>
                    <p><strong>Caracter√≠sticas:</strong> Debe ser idempotente (puede ejecutarse m√∫ltiples veces sin error), tener identificador √∫nico y autor.</p>
                   
                    <div class="code-example">
                        -- liquibase formatted sql<br>
                        -- changeset autor:juan.perez id:001-1<br>
                        -- comment: Crear tabla de usuarios<br><br>
                        CREATE TABLE IF NOT EXISTS users (<br>
                        &nbsp;&nbsp;id UUID PRIMARY KEY DEFAULT gen_random_uuid(),<br>
                        &nbsp;&nbsp;nombre VARCHAR(100) NOT NULL<br>
                        );
                    </div>
                </div>
               
                <div class="component-detail">
                    <div class="component-header">
                        <div class="component-icon"><i class="fas fa-database"></i></div>
                        <div>
                            <h4>DATABASECHANGELOG - El Libro de Registro</h4>
                            <p>Tabla interna que Liquibase crea y mantiene</p>
                        </div>
                    </div>
                    <p><strong>Funci√≥n:</strong> Rastrea qu√© changesets han sido aplicados a la base de datos, cu√°ndo y por qui√©n.</p>
                    <p><strong>Caracter√≠sticas:</strong> Se crea autom√°ticamente en la primera ejecuci√≥n. Contiene metadata completa de cada cambio aplicado.</p>
                   
                    <p><strong>Estructura t√≠pica:</strong> ID, AUTHOR, FILENAME, DATEEXECUTED, ORDEREXECUTED, EXECTYPE, MD5SUM, DESCRIPTION, COMMENTS, TAG, LIQUIBASE</p>
                </div>
            </section>
           
            <section class="concept-section">
                <h3>CARACTER√çSTICAS T√âCNICAS DE LIQUIBASE</h3>
               
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <h4><i class="fas fa-code-branch"></i> Multiplataforma</h4>
                        <p>Soporta m√°s de 20 motores de bases de datos diferentes, incluyendo PostgreSQL (compatible con YugabyteDB), MySQL, Oracle, SQL Server, y m√°s.</p>
                    </div>
                   
                    <div class="benefit-card">
                        <h4><i class="fas fa-language"></i> Multi-formato</h4>
                        <p>Permite definir cambios en XML, YAML, JSON o SQL puro. Nuestra organizaci√≥n utiliza SQL para mayor claridad y control directo.</p>
                    </div>
                   
                    <div class="benefit-card">
                        <h4><i class="fas fa-sync-alt"></i> Idempotencia</h4>
                        <p>Los changesets pueden ejecutarse m√∫ltiples veces sin causar errores, gracias a cl√°usulas como "IF NOT EXISTS" y tracking interno.</p>
                    </div>
                   
                    <div class="benefit-card">
                        <h4><i class="fas fa-undo"></i> Rollback Avanzado</h4>
                        <p>Soporta rollbacks autom√°ticos (por cambioset fallido), manuales (a un tag espec√≠fico) o por fecha/hora.</p>
                    </div>
                   
                    <div class="benefit-card">
                        <h4><i class="fas fa-project-diagram"></i> Dependencias</h4>
                        <p>Permite definir relaciones entre changesets (preconditions, contexts, labels) para controlar el orden de ejecuci√≥n.</p>
                    </div>
                   
                    <div class="benefit-card">
                        <h4><i class="fas fa-tools"></i> Herramientas Adicionales</h4>
                        <p>Incluye diff (comparar esquemas), generate-changelog (inferir changesets desde DB existente), validate (validar changelogs).</p>
                    </div>
                </div>
            </section>
           
            <section class="concept-section">
                <h3>FLUJO DE TRABAJO EN NUESTRA ORGANIZACI√ìN</h3>
               
                <div class="workflow-diagram">
                    <h4>INTEGRACI√ìN CON NUESTRO STACK TECNOL√ìGICO</h4>
                    <div class="workflow-steps">
                        <div class="workflow-step">
                            <div class="step-number">1</div>
                            <h5>GitHub</h5>
                            <p>Repositorio con estructura estandarizada</p>
                        </div>
                       
                        <div class="workflow-step">
                            <div class="step-number">2</div>
                            <h5>Azure DevOps</h5>
                            <p>Pipeline CI/CD automatizado</p>
                        </div>
                       
                        <div class="workflow-step">
                            <div class="step-number">3</div>
                            <h5>YugabyteDB</h5>
                            <p>Base de datos distribuida</p>
                        </div>
                       
                        <div class="workflow-step">
                            <div class="step-number">4</div>
                            <h5>Properties</h5>
                            <p>Configuraci√≥n por ambiente</p>
                        </div>
                    </div>
                </div>
               
                <div class="component-detail">
                    <div class="component-header">
                        <div class="component-icon"><i class="fab fa-github"></i></div>
                        <div>
                            <h4>Estructura de Repositorio</h4>
                            <p>Organizaci√≥n estandarizada para todos los proyectos</p>
                        </div>
                    </div>
                    <p><strong>Por qu√© esta estructura:</strong> Facilita la localizaci√≥n de scripts, mantiene consistencia entre proyectos y permite automatizaci√≥n confiable.</p>
                   
                    <pre style="background: #f8f9fa; padding: 15px; border-radius: 6px; font-family: monospace; font-size: 12px; margin-top: 15px;">
mi-proyecto-db/
‚îú‚îÄ‚îÄ changelog_master.json          # Punto de entrada
‚îú‚îÄ‚îÄ properties/
‚îÇ   ‚îú‚îÄ‚îÄ dev-instance.json         # Config desarrollo
‚îÇ   ‚îú‚îÄ‚îÄ test-instance.json        # Config testing
‚îÇ   ‚îî‚îÄ‚îÄ prod-instance.json        # Config producci√≥n
‚îî‚îÄ‚îÄ scripts/
    ‚îú‚îÄ‚îÄ tables/
    ‚îÇ   ‚îú‚îÄ‚îÄ create/               # Creaciones
    ‚îÇ   ‚îú‚îÄ‚îÄ alter/                # Modificaciones
    ‚îÇ   ‚îî‚îÄ‚îÄ drop/                 # Eliminaciones
    ‚îú‚îÄ‚îÄ views/                    # Vistas
    ‚îú‚îÄ‚îÄ functions/                # Funciones
    ‚îî‚îÄ‚îÄ data/                     # Datos iniciales
        ‚îú‚îÄ‚îÄ insert/               # Inserciones
        ‚îî‚îÄ‚îÄ update/               # Actualizaciones</pre>
                </div>
               
                <div class="component-detail">
                    <div class="component-header">
                        <div class="component-icon"><i class="fas fa-bolt"></i></div>
                        <div>
                            <h4>Particularidades con YugabyteDB</h4>
                            <p>Adaptaciones para base de datos distribuida</p>
                        </div>
                    </div>
                    <p><strong>Compatibilidad:</strong> YugabyteDB es compatible con PostgreSQL, por lo que Liquibase funciona nativamente.</p>
                    <p><strong>Consideraciones especiales:</strong></p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Uso de <code>gen_random_uuid()</code> en lugar de funciones espec√≠ficas de otros DBMS</li>
                        <li>Consideraci√≥n de distribuci√≥n en definiciones de PRIMARY KEY</li>
                        <li>Soporte para particionamiento y sharding autom√°tico</li>
                        <li>Replicaci√≥n multi-nodo transparente</li>
                    </ul>
                </div>
            </section>
           
            <section class="key-points">
                <h3><i class="fas fa-star"></i> VALOR ESTRAT√âGICO PARA LA ORGANIZACI√ìN</h3>
                <p>M√°s all√° de los beneficios t√©cnicos, Liquibase proporciona ventajas estrat√©gicas:</p>
               
                <ul>
                    <li><strong>Governance y Compliance:</strong> Trazabilidad completa para auditor√≠as internas y externas</li>
                    <li><strong>Independencia tecnol√≥gica:</strong> Reducci√≥n del "vendor lock-in" mediante scripts portables</li>
                    <li><strong>Escalabilidad del equipo:</strong> Nuevos miembros pueden entender y contribuir r√°pidamente</li>
                    <li><strong>Reducci√≥n de riesgos operacionales:</strong> Menos incidentes en producci√≥n, menor tiempo de recuperaci√≥n</li>
                    <li><strong>Optimizaci√≥n de costos:</strong> Reducci√≥n de horas hombre en despliegues y troubleshooting</li>
                    <li><strong>Aceleraci√≥n de entregas:</strong> Ciclos m√°s cortos desde desarrollo hasta producci√≥n</li>
                </ul>
            </section>
           
            <section class="activity">
                <h3><i class="fas fa-brain"></i> EJERCICIO DE REFLEXI√ìN</h3>
                <p><strong>Analiza tu experiencia actual:</strong> ¬øQu√© procesos manuales o propensos a errores existen actualmente en tu equipo o proyectos relacionados con cambios en base de datos?</p>
               
                <div class="challenge-solution" style="margin-top: 20px;">
                    <div class="challenge" style="flex: 1;">
                        <h4>Problemas Comunes</h4>
                        <ul style="margin-left: 20px;">
                            <li>Scripts SQL ejecutados manualmente</li>
                            <li>Diferentes versiones entre ambientes</li>
                            <li>Falta de documentaci√≥n de cambios</li>
                            <li>Problemas en rollbacks</li>
                            <li>Dependencia de conocimientos espec√≠ficos</li>
                        </ul>
                    </div>
                   
                    <div class="solution" style="flex: 1;">
                        <h4>C√≥mo Liquibase lo Resuelve</h4>
                        <ul style="margin-left: 20px;">
                            <li>Despliegues automatizados</li>
                            <li>Consistencia garantizada</li>
                            <li>Historial autom√°tico</li>
                            <li>Rollback controlado</li>
                            <li>Proceso estandarizado</li>
                        </ul>
                    </div>
                </div>
               
                <div style="margin-top: 20px; padding: 15px; background: white; border-radius: 6px; border-left: 4px solid var(--accent-color);">
                    <p><strong>Pregunta para reflexionar:</strong> Si implement√°ramos Liquibase en tu proyecto actual, ¬øqu√© tipo de incidentes podr√≠amos prevenir? ¬øCu√°nto tiempo podr√≠amos ahorrar en despliegues y troubleshooting?</p>
                </div>
            </section>
           
            <section class="resources">
                <h3><i class="fas fa-book-open"></i> PARA SABER M√ÅS</h3>
                <div class="resource-item">
                    <strong>Documentaci√≥n Oficial de Liquibase</strong><br>
                    <small>Gu√≠as completas, referencia de comandos y mejores pr√°cticas</small>
                </div>
                <div class="resource-item">
                    <strong>Liquibase en GitHub</strong><br>
                    <small>C√≥digo fuente, issues y discusiones de la comunidad</small>
                </div>
                <div class="resource-item">
                    <strong>YugabyteDB + Liquibase Integration Guide</strong><br>
                    <small>Configuraci√≥n espec√≠fica para nuestro motor de base de datos</small>
                </div>
                <div class="resource-item">
                    <strong>Casos de √âxito en la Organizaci√≥n</strong><br>
                    <small>Ejemplos reales de proyectos que ya implementan Liquibase</small>
                </div>
            </section>
           
            <div class="navigation-buttons">
                <a href="#" class="btn">‚óÄ Curso Anterior</a>
                <a href="leccion_ii.html" class="btn btn-secondary">Siguiente: GITHUB Y ESTRUCTURA DE CHANGELOGS ‚ñ∂</a>
            </div>
        </main>
    </div>

 <!-- NUEVA SECCI√ìN: INSTALACI√ìN Y CONFIGURACI√ìN PARA POSTGRESQL -->
    <section class="concept-section">
        <h3>üîß INSTALACI√ìN Y CONFIGURACI√ìN PARA POSTGRESQL</h3>
        
        <div class="workflow-diagram">
            <h4>PASOS PARA PREPARAR EL ENTORNO</h4>
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <h5>Java</h5>
                    <p>Instalar Java 11+</p>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <h5>Liquibase</h5>
                    <p>Descargar e instalar</p>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <h5>PostgreSQL</h5>
                    <p>Configurar BD y usuario</p>
                </div>
                
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <h5>Driver JDBC</h5>
                    <p>Descargar PostgreSQL JDBC</p>
                </div>
            </div>
        </div>
        
        <div class="component-detail">
            <div class="component-header">
                <div class="component-icon"><i class="fab fa-java"></i></div>
                <div>
                    <h4>PASO 1: Verificar Java (Requisito)</h4>
                    <p>Liquibase requiere Java 11 o superior</p>
                </div>
            </div>
            <div class="code-example">
    <span class="code-keyword"># Verificar versi√≥n de Java instalada</span>
    $ java -version

    <span class="code-keyword"># Si no tienes Java, instalar:</span>
    <span class="code-keyword"># Ubuntu/Debian:</span>
    $ sudo apt update
    $ sudo apt install openjdk-11-jdk

    <span class="code-keyword"># macOS:</span>
    $ brew install openjdk@11

    <span class="code-keyword"># Windows:</span>
    Descargar de https://adoptium.net/
            </div>
        </div>
        
        <div class="component-detail">
            <div class="component-header">
                <div class="component-icon"><i class="fas fa-download"></i></div>
                <div>
                    <h4>PASO 2: Instalar Liquibase</h4>
                    <p>M√∫ltiples opciones de instalaci√≥n disponibles</p>
                </div>
            </div>
            
            <div class="challenge-solution" style="margin-top: 15px;">
                <div class="challenge" style="flex: 1;">
                    <h5>Opci√≥n A: Descarga Manual (Recomendada para curso)</h5>
                    <div class="code-example" style="margin: 10px 0;">
    <span class="code-keyword"># 1. Descargar Liquibase (√∫ltima versi√≥n estable)</span>
    $ wget https://github.com/liquibase/liquibase/releases/download/v4.24.0/liquibase-4.24.0.tar.gz

    <span class="code-keyword"># 2. Extraer</span>
    $ tar -xzf liquibase-4.24.0.tar.gz

    <span class="code-keyword"># 3. Agregar al PATH</span>
    $ echo 'export PATH="$PATH:$HOME/liquibase"' >> ~/.bashrc
    $ source ~/.bashrc

    <span class="code-keyword"># 4. Verificar instalaci√≥n</span>
    $ liquibase --version
                    </div>
                </div>
                
                <div class="solution" style="flex: 1;">
                    <h5>Opci√≥n B: Package Managers</h5>
                    <div class="code-example" style="margin: 10px 0;">
    <span class="code-keyword"># macOS (Homebrew)</span>
    $ brew install liquibase

    <span class="code-keyword"># Linux (Snap)</span>
    $ sudo snap install liquibase

    <span class="code-keyword"># Windows (Chocolatey)</span>
    > choco install liquibase

    <span class="code-keyword"># Docker (para cualquier sistema)</span>
    $ docker run --rm -v $(pwd):/liquibase/changelog liquibase/liquibase \
        --url="jdbc:postgresql://host.docker.internal:5432/mydb" update
                    </div>
                </div>
            </div>
        </div>
        
        <div class="component-detail">
            <div class="component-header">
                <div class="component-icon"><i class="fas fa-database"></i></div>
                <div>
                    <h4>PASO 3: Configurar PostgreSQL</h4>
                    <p>Crear base de datos y usuario para Liquibase</p>
                </div>
            </div>
            
            <div class="code-example">
    <span class="code-keyword"># Conectar como superusuario (postgres)</span>
    $ sudo -u postgres psql

    <span class="code-keyword"># 1. Crear usuario espec√≠fico para Liquibase</span>
    CREATE USER liquibase_user WITH PASSWORD 'liquibase_pass';

    <span class="code-keyword"># 2. Crear base de datos</span>
    CREATE DATABASE liquibase_demo OWNER liquibase_user;

    <span class="code-keyword"># 3. Conectar a la base de datos</span>
    \c liquibase_demo

    <span class="code-keyword"># 4. Dar permisos completos al usuario</span>
    GRANT ALL ON SCHEMA public TO liquibase_user;
    GRANT ALL ON ALL TABLES IN SCHEMA public TO liquibase_user;

    <span class="code-keyword"># 5. Habilitar extensi√≥n UUID si la necesitas</span>
    CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

    <span class="code-keyword"># 6. Salir</span>
    \q
            </div>
            
            <div class="key-points" style="margin: 15px 0; padding: 15px;">
                <h5>‚ö†Ô∏è IMPORTANTE: Permisos de usuario</h5>
                <p>El usuario de Liquibase <strong>DEBE</strong> tener permisos para crear tablas en el schema public. 
                Si no, ver√°s el error: <code>permission denied for schema public</code>.</p>
            </div>
        </div>
        
        <div class="component-detail">
            <div class="component-header">
                <div class="component-icon"><i class="fas fa-network-wired"></i></div>
                <div>
                    <h4>PASO 4: Driver JDBC de PostgreSQL</h4>
                    <p>Liquibase necesita el conector para comunicarse con PostgreSQL</p>
                </div>
            </div>
            
            <div class="code-example">
    <span class="code-keyword"># Descargar driver JDBC m√°s reciente</span>
    $ wget https://jdbc.postgresql.org/download/postgresql-42.7.3.jar

    <span class="code-keyword"># Opciones para usar el driver:</span>

    <span class="code-keyword"># Opci√≥n A: Especificar en comando (recomendada para desarrollo)</span>
    $ liquibase --classpath=./postgresql-42.7.3.jar \
        --url="jdbc:postgresql://localhost:5432/liquibase_demo" \
        --username=liquibase_user \
        --password=liquibase_pass \
        --changelog-file=changelog_master.json validate

    <span class="code-keyword"># Opci√≥n B: Colocar en carpeta lib/ de Liquibase</span>
    $ cp postgresql-42.7.3.jar /ruta/a/liquibase/lib/

    <span class="code-keyword"># Opci√≥n C: Agregar al classpath del sistema</span>
    $ export CLASSPATH=$CLASSPATH:$(pwd)/postgresql-42.7.3.jar
            </div>
        </div>
        
        <div class="component-detail">
            <div class="component-header">
                <div class="component-icon"><i class="fas fa-vial"></i></div>
                <div>
                    <h4>PASO 5: Verificar Instalaci√≥n Completa</h4>
                    <p>Comprobar que todo funciona correctamente</p>
                </div>
            </div>
            
            <div class="code-example">
    <span class="code-keyword"># 1. Verificar versi√≥n de Liquibase</span>
    $ liquibase --version
    <span class="code-keyword"># Deber√≠a mostrar: Liquibase Version: 4.x.x</span>

    <span class="code-keyword"># 2. Probar conexi√≥n a PostgreSQL</span>
    $ liquibase --url="jdbc:postgresql://localhost:5432/liquibase_demo" \
        --username=liquibase_user \
        --password=liquibase_pass \
        --driver=org.postgresql.Driver \
        --classpath=./postgresql-42.7.3.jar \
        --output-file=test_connection.txt status

    <span class="code-keyword"># 3. Verificar que el archivo se cre√≥ sin errores</span>
    $ cat test_connection.txt

    <span class="code-keyword"># 4. Probar con un changelog simple</span>
    $ cat > test_changelog.json << 'EOF'
    {
    "databaseChangeLog": [
        {
        "changeSet": {
            "id": "test-1",
            "author": "test",
            "changes": [
            {
                "sql": {
                "sql": "SELECT current_timestamp;"
                }
            }
            ]
        }
        }
    ]
    }
    EOF

    $ liquibase --url="jdbc:postgresql://localhost:5432/liquibase_demo" \
        --username=liquibase_user \
        --password=liquibase_pass \
        --changelog-file=test_changelog.json \
        --classpath=./postgresql-42.7.3.jar \
        validate
            </div>
        </div>
        
        <div class="key-points" style="margin-top: 20px;">
            <h4>üö® SOLUCI√ìN DE PROBLEMAS COMUNES</h4>
            <ul>
                <li><strong>"Class not found: org.postgresql.Driver"</strong> ‚Üí El driver JDBC no est√° en el classpath</li>
                <li><strong>"Connection refused"</strong> ‚Üí PostgreSQL no est√° corriendo o el puerto es incorrecto</li>
                <li><strong>"password authentication failed"</strong> ‚Üí Credenciales incorrectas o usuario no existe</li>
                <li><strong>"permission denied for schema public"</strong> ‚Üí Usuario sin permisos suficientes</li>
                <li><strong>"Invalid argument '--changelog-file'"</strong> ‚Üí En Liquibase 4.x, debes especificar siempre este par√°metro</li>
            </ul>
            
            <div class="code-example" style="margin-top: 15px; background: #fff3cd;">
    <span class="code-keyword"># Comandos de diagn√≥stico √∫tiles:</span>

    <span class="code-keyword"># Verificar que PostgreSQL est√° corriendo</span>
    $ systemctl status postgresql
    $ sudo lsof -i :5432

    <span class="code-keyword"># Probar conexi√≥n con psql</span>
    $ psql -h localhost -U liquibase_user -d liquibase_demo -W

    <span class="code-keyword"># Ver logs de PostgreSQL</span>
    $ sudo tail -f /var/log/postgresql/postgresql-14-main.log
            </div>
        </div>
        
        <div class="core-principle" style="margin-top: 20px;">
            <h4><span class="principle-icon">‚úì</span> CONFIGURACI√ìN LISTA PARA EL CURSO</h4>
            <p>Con estos pasos completados, tienes un entorno funcional de Liquibase + PostgreSQL para seguir todas las lecciones del curso.</p>
            <p><strong>Nota importante:</strong> En las lecciones usaremos <strong>Liquibase 4.x</strong> con la sintaxis actualizada donde <code>--changelog-file</code> es obligatorio en todos los comandos.</p>
        </div>
    </section>   
   
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Efectos hover en tarjetas
            const benefitCards = document.querySelectorAll('.benefit-card');
            benefitCards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.boxShadow = '0 8px 25px rgba(0,0,0,0.15)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.boxShadow = '0 2px 4px rgba(0,0,0,0.05)';
                });
            });
           
            // Efecto en pasos del workflow
            const workflowSteps = document.querySelectorAll('.workflow-step');
            workflowSteps.forEach(step => {
                step.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.05)';
                    this.style.backgroundColor = '#e3f2fd';
                });
               
                step.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                    this.style.backgroundColor = '';
                });
            });
           
            // Simulaci√≥n de ejecuci√≥n de c√≥digo
            const codeExamples = document.querySelectorAll('.code-example');
            codeExamples.forEach(code => {
                code.addEventListener('dblclick', function() {
                    const originalText = this.innerHTML;
                    this.innerHTML = '<span style="color: #6a9955;">// Ejecutando Liquibase...</span>';
                   
                    setTimeout(() => {
                        this.innerHTML = originalText;
                    }, 800);
                });
            });
        });
    </script>
</body>
</html>